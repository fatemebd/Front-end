{"ast":null,"code":"var _jsxFileName = \"D:\\\\UNI\\\\term-6\\\\software-eng\\\\Front-end\\\\src\\\\components\\\\PortalPopup.js\",\n  _s = $RefreshSig$();\nimport { useMemo, useCallback, useState, useRef, useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport styles from \"../styles/PortalPopup.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PortalPopup = _ref => {\n  _s();\n  let {\n    children,\n    overlayColor,\n    placement = \"Centered\",\n    onOutsideClick,\n    zIndex = 100,\n    left = 0,\n    right = 0,\n    top = 0,\n    bottom = 0,\n    relativeLayerRef\n  } = _ref;\n  const relContainerRef = useRef(null);\n  const [relativeStyle, setRelativeStyle] = useState({});\n  const popupStyle = useMemo(() => {\n    const style = {};\n    style.zIndex = zIndex;\n    if (overlayColor) {\n      style.backgroundColor = overlayColor;\n    }\n    if (!(relativeLayerRef !== null && relativeLayerRef !== void 0 && relativeLayerRef.current)) {\n      switch (placement) {\n        case \"Centered\":\n          style.alignItems = \"center\";\n          style.justifyContent = \"center\";\n          break;\n        case \"Top left\":\n          style.alignItems = \"flex-start\";\n          break;\n        case \"Top center\":\n          style.alignItems = \"center\";\n          break;\n        case \"Top right\":\n          style.alignItems = \"flex-end\";\n          break;\n        case \"Bottom left\":\n          style.alignItems = \"flex-start\";\n          style.justifyContent = \"flex-end\";\n          break;\n        case \"Bottom center\":\n          style.alignItems = \"center\";\n          style.justifyContent = \"flex-end\";\n          break;\n        case \"Bottom right\":\n          style.alignItems = \"flex-end\";\n          style.justifyContent = \"flex-end\";\n          break;\n      }\n    }\n    return style;\n  }, [placement, overlayColor, zIndex, relativeLayerRef === null || relativeLayerRef === void 0 ? void 0 : relativeLayerRef.current]);\n  const setPosition = useCallback(() => {\n    var _relativeLayerRef$cur, _relContainerRef$curr;\n    const relativeItem = relativeLayerRef === null || relativeLayerRef === void 0 ? void 0 : (_relativeLayerRef$cur = relativeLayerRef.current) === null || _relativeLayerRef$cur === void 0 ? void 0 : _relativeLayerRef$cur.getBoundingClientRect();\n    const containerItem = relContainerRef === null || relContainerRef === void 0 ? void 0 : (_relContainerRef$curr = relContainerRef.current) === null || _relContainerRef$curr === void 0 ? void 0 : _relContainerRef$curr.getBoundingClientRect();\n    const style = {};\n    if (relativeItem && containerItem) {\n      const {\n        x: relativeX,\n        y: relativeY,\n        width: relativeW,\n        height: relativeH\n      } = relativeItem;\n      const {\n        width: containerW,\n        height: containerH\n      } = containerItem;\n      style.position = \"absolute\";\n      switch (placement) {\n        case \"Top left\":\n          style.top = relativeY - containerH - top;\n          style.left = relativeX + left;\n          break;\n        case \"Top right\":\n          style.top = relativeY - containerH - top;\n          style.left = relativeX + relativeW - containerW - right;\n          break;\n        case \"Bottom left\":\n          style.top = relativeY + relativeH + bottom;\n          style.left = relativeX + left;\n          break;\n        case \"Bottom right\":\n          style.top = relativeY + relativeH + bottom;\n          style.left = relativeX + relativeW - containerW - right;\n          break;\n      }\n      setRelativeStyle(style);\n    } else {\n      style.maxWidth = \"90%\";\n      style.maxHeight = \"90%\";\n      setRelativeStyle(style);\n    }\n  }, [left, right, top, bottom, placement, relativeLayerRef === null || relativeLayerRef === void 0 ? void 0 : relativeLayerRef.current, relContainerRef === null || relContainerRef === void 0 ? void 0 : relContainerRef.current]);\n  useEffect(() => {\n    setPosition();\n    window.addEventListener(\"resize\", setPosition);\n    window.addEventListener(\"scroll\", setPosition, true);\n    return () => {\n      window.removeEventListener(\"resize\", setPosition);\n      window.removeEventListener(\"scroll\", setPosition, true);\n    };\n  }, [setPosition]);\n  const onOverlayClick = useCallback(e => {\n    if (onOutsideClick && e.target.classList.contains(styles.portalPopupOverlay)) {\n      onOutsideClick();\n    }\n    e.stopPropagation();\n  }, [onOutsideClick]);\n  return /*#__PURE__*/_jsxDEV(Portal, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.portalPopupOverlay,\n      style: popupStyle,\n      onClick: onOverlayClick,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: relContainerRef,\n        style: relativeStyle,\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 5\n  }, this);\n};\n_s(PortalPopup, \"Sf4Ua79Wwvv7D6usFQgc6mj+Tds=\");\n_c = PortalPopup;\nexport const Portal = _ref2 => {\n  let {\n    children,\n    containerId = \"portals\"\n  } = _ref2;\n  let portalsDiv = document.getElementById(containerId);\n  if (!portalsDiv) {\n    portalsDiv = document.createElement(\"div\");\n    portalsDiv.setAttribute(\"id\", containerId);\n    document.body.appendChild(portalsDiv);\n  }\n  return /*#__PURE__*/createPortal(children, portalsDiv);\n};\n_c2 = Portal;\nexport default PortalPopup;\nvar _c, _c2;\n$RefreshReg$(_c, \"PortalPopup\");\n$RefreshReg$(_c2, \"Portal\");","map":{"version":3,"names":["useMemo","useCallback","useState","useRef","useEffect","createPortal","styles","jsxDEV","_jsxDEV","PortalPopup","_ref","_s","children","overlayColor","placement","onOutsideClick","zIndex","left","right","top","bottom","relativeLayerRef","relContainerRef","relativeStyle","setRelativeStyle","popupStyle","style","backgroundColor","current","alignItems","justifyContent","setPosition","_relativeLayerRef$cur","_relContainerRef$curr","relativeItem","getBoundingClientRect","containerItem","x","relativeX","y","relativeY","width","relativeW","height","relativeH","containerW","containerH","position","maxWidth","maxHeight","window","addEventListener","removeEventListener","onOverlayClick","e","target","classList","contains","portalPopupOverlay","stopPropagation","Portal","className","onClick","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","_ref2","containerId","portalsDiv","document","getElementById","createElement","setAttribute","body","appendChild","_c2","$RefreshReg$"],"sources":["D:/UNI/term-6/software-eng/Front-end/src/components/PortalPopup.js"],"sourcesContent":["import { useMemo, useCallback, useState, useRef, useEffect } from \"react\";\r\n\r\nimport { createPortal } from \"react-dom\";\r\nimport styles from \"../styles/PortalPopup.module.css\";\r\n\r\nconst PortalPopup = ({\r\n  children,\r\n  overlayColor,\r\n  placement = \"Centered\",\r\n  onOutsideClick,\r\n  zIndex = 100,\r\n  left = 0,\r\n  right = 0,\r\n  top = 0,\r\n  bottom = 0,\r\n  relativeLayerRef,\r\n}) => {\r\n  const relContainerRef = useRef(null);\r\n  const [relativeStyle, setRelativeStyle] = useState({});\r\n  const popupStyle = useMemo(() => {\r\n    const style = {};\r\n    style.zIndex = zIndex;\r\n\r\n    if (overlayColor) {\r\n      style.backgroundColor = overlayColor;\r\n    }\r\n    if (!relativeLayerRef?.current) {\r\n      switch (placement) {\r\n        case \"Centered\":\r\n          style.alignItems = \"center\";\r\n          style.justifyContent = \"center\";\r\n          break;\r\n        case \"Top left\":\r\n          style.alignItems = \"flex-start\";\r\n          break;\r\n        case \"Top center\":\r\n          style.alignItems = \"center\";\r\n          break;\r\n        case \"Top right\":\r\n          style.alignItems = \"flex-end\";\r\n          break;\r\n        case \"Bottom left\":\r\n          style.alignItems = \"flex-start\";\r\n          style.justifyContent = \"flex-end\";\r\n          break;\r\n        case \"Bottom center\":\r\n          style.alignItems = \"center\";\r\n          style.justifyContent = \"flex-end\";\r\n          break;\r\n        case \"Bottom right\":\r\n          style.alignItems = \"flex-end\";\r\n          style.justifyContent = \"flex-end\";\r\n          break;\r\n      }\r\n    }\r\n    return style;\r\n  }, [placement, overlayColor, zIndex, relativeLayerRef?.current]);\r\n\r\n  const setPosition = useCallback(() => {\r\n    const relativeItem = relativeLayerRef?.current?.getBoundingClientRect();\r\n    const containerItem = relContainerRef?.current?.getBoundingClientRect();\r\n    const style = {};\r\n    if (relativeItem && containerItem) {\r\n      const {\r\n        x: relativeX,\r\n        y: relativeY,\r\n        width: relativeW,\r\n        height: relativeH,\r\n      } = relativeItem;\r\n      const { width: containerW, height: containerH } = containerItem;\r\n      style.position = \"absolute\";\r\n      switch (placement) {\r\n        case \"Top left\":\r\n          style.top = relativeY - containerH - top;\r\n          style.left = relativeX + left;\r\n          break;\r\n        case \"Top right\":\r\n          style.top = relativeY - containerH - top;\r\n          style.left = relativeX + relativeW - containerW - right;\r\n          break;\r\n        case \"Bottom left\":\r\n          style.top = relativeY + relativeH + bottom;\r\n          style.left = relativeX + left;\r\n          break;\r\n        case \"Bottom right\":\r\n          style.top = relativeY + relativeH + bottom;\r\n          style.left = relativeX + relativeW - containerW - right;\r\n          break;\r\n      }\r\n\r\n      setRelativeStyle(style);\r\n    } else {\r\n      style.maxWidth = \"90%\";\r\n      style.maxHeight = \"90%\";\r\n      setRelativeStyle(style);\r\n    }\r\n  }, [\r\n    left,\r\n    right,\r\n    top,\r\n    bottom,\r\n    placement,\r\n    relativeLayerRef?.current,\r\n    relContainerRef?.current,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    setPosition();\r\n\r\n    window.addEventListener(\"resize\", setPosition);\r\n    window.addEventListener(\"scroll\", setPosition, true);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"resize\", setPosition);\r\n      window.removeEventListener(\"scroll\", setPosition, true);\r\n    };\r\n  }, [setPosition]);\r\n\r\n  const onOverlayClick = useCallback(\r\n    (e) => {\r\n      if (\r\n        onOutsideClick &&\r\n        e.target.classList.contains(styles.portalPopupOverlay)\r\n      ) {\r\n        onOutsideClick();\r\n      }\r\n      e.stopPropagation();\r\n    },\r\n    [onOutsideClick]\r\n  );\r\n\r\n  return (\r\n    <Portal>\r\n      <div\r\n        className={styles.portalPopupOverlay}\r\n        style={popupStyle}\r\n        onClick={onOverlayClick}\r\n      >\r\n        <div ref={relContainerRef} style={relativeStyle}>\r\n          {children}\r\n        </div>\r\n      </div>\r\n    </Portal>\r\n  );\r\n};\r\n\r\nexport const Portal = ({ children, containerId = \"portals\" }) => {\r\n  let portalsDiv = document.getElementById(containerId);\r\n  if (!portalsDiv) {\r\n    portalsDiv = document.createElement(\"div\");\r\n    portalsDiv.setAttribute(\"id\", containerId);\r\n    document.body.appendChild(portalsDiv);\r\n  }\r\n\r\n  return createPortal(children, portalsDiv);\r\n};\r\nexport default PortalPopup;\r\n"],"mappings":";;AAAA,SAASA,OAAO,EAAEC,WAAW,EAAEC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAEzE,SAASC,YAAY,QAAQ,WAAW;AACxC,OAAOC,MAAM,MAAM,kCAAkC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtD,MAAMC,WAAW,GAAGC,IAAA,IAWd;EAAAC,EAAA;EAAA,IAXe;IACnBC,QAAQ;IACRC,YAAY;IACZC,SAAS,GAAG,UAAU;IACtBC,cAAc;IACdC,MAAM,GAAG,GAAG;IACZC,IAAI,GAAG,CAAC;IACRC,KAAK,GAAG,CAAC;IACTC,GAAG,GAAG,CAAC;IACPC,MAAM,GAAG,CAAC;IACVC;EACF,CAAC,GAAAX,IAAA;EACC,MAAMY,eAAe,GAAGnB,MAAM,CAAC,IAAI,CAAC;EACpC,MAAM,CAACoB,aAAa,EAAEC,gBAAgB,CAAC,GAAGtB,QAAQ,CAAC,CAAC,CAAC,CAAC;EACtD,MAAMuB,UAAU,GAAGzB,OAAO,CAAC,MAAM;IAC/B,MAAM0B,KAAK,GAAG,CAAC,CAAC;IAChBA,KAAK,CAACV,MAAM,GAAGA,MAAM;IAErB,IAAIH,YAAY,EAAE;MAChBa,KAAK,CAACC,eAAe,GAAGd,YAAY;IACtC;IACA,IAAI,EAACQ,gBAAgB,aAAhBA,gBAAgB,eAAhBA,gBAAgB,CAAEO,OAAO,GAAE;MAC9B,QAAQd,SAAS;QACf,KAAK,UAAU;UACbY,KAAK,CAACG,UAAU,GAAG,QAAQ;UAC3BH,KAAK,CAACI,cAAc,GAAG,QAAQ;UAC/B;QACF,KAAK,UAAU;UACbJ,KAAK,CAACG,UAAU,GAAG,YAAY;UAC/B;QACF,KAAK,YAAY;UACfH,KAAK,CAACG,UAAU,GAAG,QAAQ;UAC3B;QACF,KAAK,WAAW;UACdH,KAAK,CAACG,UAAU,GAAG,UAAU;UAC7B;QACF,KAAK,aAAa;UAChBH,KAAK,CAACG,UAAU,GAAG,YAAY;UAC/BH,KAAK,CAACI,cAAc,GAAG,UAAU;UACjC;QACF,KAAK,eAAe;UAClBJ,KAAK,CAACG,UAAU,GAAG,QAAQ;UAC3BH,KAAK,CAACI,cAAc,GAAG,UAAU;UACjC;QACF,KAAK,cAAc;UACjBJ,KAAK,CAACG,UAAU,GAAG,UAAU;UAC7BH,KAAK,CAACI,cAAc,GAAG,UAAU;UACjC;MAAM;IAEZ;IACA,OAAOJ,KAAK;EACd,CAAC,EAAE,CAACZ,SAAS,EAAED,YAAY,EAAEG,MAAM,EAAEK,gBAAgB,aAAhBA,gBAAgB,uBAAhBA,gBAAgB,CAAEO,OAAO,CAAC,CAAC;EAEhE,MAAMG,WAAW,GAAG9B,WAAW,CAAC,MAAM;IAAA,IAAA+B,qBAAA,EAAAC,qBAAA;IACpC,MAAMC,YAAY,GAAGb,gBAAgB,aAAhBA,gBAAgB,wBAAAW,qBAAA,GAAhBX,gBAAgB,CAAEO,OAAO,cAAAI,qBAAA,uBAAzBA,qBAAA,CAA2BG,qBAAqB,EAAE;IACvE,MAAMC,aAAa,GAAGd,eAAe,aAAfA,eAAe,wBAAAW,qBAAA,GAAfX,eAAe,CAAEM,OAAO,cAAAK,qBAAA,uBAAxBA,qBAAA,CAA0BE,qBAAqB,EAAE;IACvE,MAAMT,KAAK,GAAG,CAAC,CAAC;IAChB,IAAIQ,YAAY,IAAIE,aAAa,EAAE;MACjC,MAAM;QACJC,CAAC,EAAEC,SAAS;QACZC,CAAC,EAAEC,SAAS;QACZC,KAAK,EAAEC,SAAS;QAChBC,MAAM,EAAEC;MACV,CAAC,GAAGV,YAAY;MAChB,MAAM;QAAEO,KAAK,EAAEI,UAAU;QAAEF,MAAM,EAAEG;MAAW,CAAC,GAAGV,aAAa;MAC/DV,KAAK,CAACqB,QAAQ,GAAG,UAAU;MAC3B,QAAQjC,SAAS;QACf,KAAK,UAAU;UACbY,KAAK,CAACP,GAAG,GAAGqB,SAAS,GAAGM,UAAU,GAAG3B,GAAG;UACxCO,KAAK,CAACT,IAAI,GAAGqB,SAAS,GAAGrB,IAAI;UAC7B;QACF,KAAK,WAAW;UACdS,KAAK,CAACP,GAAG,GAAGqB,SAAS,GAAGM,UAAU,GAAG3B,GAAG;UACxCO,KAAK,CAACT,IAAI,GAAGqB,SAAS,GAAGI,SAAS,GAAGG,UAAU,GAAG3B,KAAK;UACvD;QACF,KAAK,aAAa;UAChBQ,KAAK,CAACP,GAAG,GAAGqB,SAAS,GAAGI,SAAS,GAAGxB,MAAM;UAC1CM,KAAK,CAACT,IAAI,GAAGqB,SAAS,GAAGrB,IAAI;UAC7B;QACF,KAAK,cAAc;UACjBS,KAAK,CAACP,GAAG,GAAGqB,SAAS,GAAGI,SAAS,GAAGxB,MAAM;UAC1CM,KAAK,CAACT,IAAI,GAAGqB,SAAS,GAAGI,SAAS,GAAGG,UAAU,GAAG3B,KAAK;UACvD;MAAM;MAGVM,gBAAgB,CAACE,KAAK,CAAC;IACzB,CAAC,MAAM;MACLA,KAAK,CAACsB,QAAQ,GAAG,KAAK;MACtBtB,KAAK,CAACuB,SAAS,GAAG,KAAK;MACvBzB,gBAAgB,CAACE,KAAK,CAAC;IACzB;EACF,CAAC,EAAE,CACDT,IAAI,EACJC,KAAK,EACLC,GAAG,EACHC,MAAM,EACNN,SAAS,EACTO,gBAAgB,aAAhBA,gBAAgB,uBAAhBA,gBAAgB,CAAEO,OAAO,EACzBN,eAAe,aAAfA,eAAe,uBAAfA,eAAe,CAAEM,OAAO,CACzB,CAAC;EAEFxB,SAAS,CAAC,MAAM;IACd2B,WAAW,EAAE;IAEbmB,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAEpB,WAAW,CAAC;IAC9CmB,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAEpB,WAAW,EAAE,IAAI,CAAC;IAEpD,OAAO,MAAM;MACXmB,MAAM,CAACE,mBAAmB,CAAC,QAAQ,EAAErB,WAAW,CAAC;MACjDmB,MAAM,CAACE,mBAAmB,CAAC,QAAQ,EAAErB,WAAW,EAAE,IAAI,CAAC;IACzD,CAAC;EACH,CAAC,EAAE,CAACA,WAAW,CAAC,CAAC;EAEjB,MAAMsB,cAAc,GAAGpD,WAAW,CAC/BqD,CAAC,IAAK;IACL,IACEvC,cAAc,IACduC,CAAC,CAACC,MAAM,CAACC,SAAS,CAACC,QAAQ,CAACnD,MAAM,CAACoD,kBAAkB,CAAC,EACtD;MACA3C,cAAc,EAAE;IAClB;IACAuC,CAAC,CAACK,eAAe,EAAE;EACrB,CAAC,EACD,CAAC5C,cAAc,CAAC,CACjB;EAED,oBACEP,OAAA,CAACoD,MAAM;IAAAhD,QAAA,eACLJ,OAAA;MACEqD,SAAS,EAAEvD,MAAM,CAACoD,kBAAmB;MACrChC,KAAK,EAAED,UAAW;MAClBqC,OAAO,EAAET,cAAe;MAAAzC,QAAA,eAExBJ,OAAA;QAAKuD,GAAG,EAAEzC,eAAgB;QAACI,KAAK,EAAEH,aAAc;QAAAX,QAAA,EAC7CA;MAAQ;QAAAoD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IACL;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EACF;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACC;AAEb,CAAC;AAACxD,EAAA,CA3IIF,WAAW;AAAA2D,EAAA,GAAX3D,WAAW;AA6IjB,OAAO,MAAMmD,MAAM,GAAGS,KAAA,IAA2C;EAAA,IAA1C;IAAEzD,QAAQ;IAAE0D,WAAW,GAAG;EAAU,CAAC,GAAAD,KAAA;EAC1D,IAAIE,UAAU,GAAGC,QAAQ,CAACC,cAAc,CAACH,WAAW,CAAC;EACrD,IAAI,CAACC,UAAU,EAAE;IACfA,UAAU,GAAGC,QAAQ,CAACE,aAAa,CAAC,KAAK,CAAC;IAC1CH,UAAU,CAACI,YAAY,CAAC,IAAI,EAAEL,WAAW,CAAC;IAC1CE,QAAQ,CAACI,IAAI,CAACC,WAAW,CAACN,UAAU,CAAC;EACvC;EAEA,oBAAOlE,YAAY,CAACO,QAAQ,EAAE2D,UAAU,CAAC;AAC3C,CAAC;AAACO,GAAA,GATWlB,MAAM;AAUnB,eAAenD,WAAW;AAAC,IAAA2D,EAAA,EAAAU,GAAA;AAAAC,YAAA,CAAAX,EAAA;AAAAW,YAAA,CAAAD,GAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}